<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><script async src="https://www.googletagmanager.com/gtag/js?id=G-TQKP5TGHJ8"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TQKP5TGHJ8")</script><title>Understanding Flag Enums in C# | code-corner.dev</title><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="google-adsense-account" content="ca-pub-4671230649342120"><meta name="description" content="Enumeration types, also known as enum types, are widely used by C# developers to improve code readability and maintainability, by offering a standardized way to represent a set of related numeric cons"><meta property="og:type" content="article"><meta property="og:title" content="Understanding Flag Enums in C#"><meta property="og:url" content="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/index.html"><meta property="og:site_name" content="code-corner.dev"><meta property="og:description" content="Enumeration types, also known as enum types, are widely used by C# developers to improve code readability and maintainability, by offering a standardized way to represent a set of related numeric cons"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/00_header.png"><meta property="article:published_time" content="2023-11-04T00:00:00.000Z"><meta property="article:modified_time" content="2024-04-16T17:31:21.757Z"><meta property="article:author" content="João Simões"><meta property="article:tag" content="dotnetcore"><meta property="article:tag" content="csharp"><meta property="article:tag" content="dotnet"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/00_header.png"><meta name="twitter:creator" content="@JoaoPRSimoes"><link rel="shortcut icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css"><link rel="canonical" href="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/"><meta name="generator" content="Hexo 7.1.1"><link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml,sitemap.txt"></head><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">code-corner.dev</a></h1><h2 id="subtitle-wrap"><a href="/" id="subtitle">The place to learn about programming</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a> <a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a></nav><nav id="sub-nav"><a class="nav-icon" target="_blank" rel="noopener" href="https://github.com/gravity00"><span class="fa fa-github"></span></a> <a class="nav-icon" target="_blank" rel="noopener" href="https://twitter.com/JoaoPRSimoes"><span class="fa fa-twitter"></span></a> <a class="nav-icon" target="_blank" rel="noopener" href="https://joaoprsimoes.medium.com/"><span class="fa fa-medium"></span></a> <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a> <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://code-corner.dev"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-Understanding-Flag-Enums-in-C" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="/2023/11/04/Understanding-Flag-Enums-in-C/" class="article-date"><time class="dt-published" datetime="2023-11-04T00:00:00.000Z" itemprop="datePublished">2023-11-04</time></a><div class="article-category"><a class="article-category-link" href="/categories/concepts/">concepts</a></div></div><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">Understanding Flag Enums in C#</h1><h2 class="p-name article-subtitle">Efficiently representing combination of choices</h2></header><div class="e-content article-entry" itemprop="articleBody"><a href="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/00_header.png" data-fancybox="gallery" data-caption><img src="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/00_header.png"></a><p>Enumeration types, also known as enum types, are widely used by C# developers to improve code readability and maintainability, by offering a standardized way to represent a set of related numeric constants. Good examples are days of the week, seasons, or a predefined range of colors.</p><p>In this article I’m going to talk about flag enums, which are a special case, that can be used to represent a combination of binary choices into a single value using bitwise operations.</p><hr><p>Imagine you were creating a simple alarm application were you could set alarms for a given time and weekdays. If you were using a simple enum, the <code>Alarm</code> class would need a collection to store the selected days, ideally an hash set to prevent duplicates and faster lookups. It would look similar to this:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Weekday</span><br><span class="line">&#123;</span><br><span class="line">    None = <span class="number">0</span>,</span><br><span class="line">    Sunday,</span><br><span class="line">    Monday,</span><br><span class="line">    Tuesday,</span><br><span class="line">    Wednesday,</span><br><span class="line">    Thursday,</span><br><span class="line">    Friday,</span><br><span class="line">    Saturday,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Alarm</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> ICollection&lt;Weekday&gt; Weekdays &#123; <span class="keyword">get</span>; &#125; = <span class="keyword">new</span> HashSet&lt;Weekday&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TimeOnly Time &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>An an example, if you needed to create an alarm to set off at 7 a.m. only during workdays and needed to execute some conditional logic depending your selection, the code could be as follows:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> alarm = <span class="keyword">new</span> Alarm</span><br><span class="line">&#123;</span><br><span class="line">    Time = <span class="keyword">new</span> TimeOnly(<span class="number">07</span>, <span class="number">00</span>, <span class="number">00</span>),</span><br><span class="line">    Weekdays =</span><br><span class="line">    &#123;</span><br><span class="line">        Weekday.Monday,</span><br><span class="line">        Weekday.Tuesday,</span><br><span class="line">        Weekday.Wednesday,</span><br><span class="line">        Weekday.Thursday,</span><br><span class="line">        Weekday.Friday,</span><br><span class="line">        Weekday.Saturday,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// disable a flag</span></span><br><span class="line">alarm.Weekdays.Remove(Weekday.Saturday);</span><br><span class="line"></span><br><span class="line"><span class="comment">// check if a flag is enabled</span></span><br><span class="line"><span class="keyword">if</span> (alarm.Weekdays.Contains(Weekday.Monday))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// check if some flags are enabled</span></span><br><span class="line"><span class="keyword">if</span> (alarm.Weekdays.Any(e =&gt; e <span class="keyword">is</span> Weekday.Saturday <span class="keyword">or</span> Weekday.Sunday))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// check if a flag is disabled</span></span><br><span class="line"><span class="keyword">if</span> (!alarm.Weekdays.Contains(Weekday.Friday))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The code is relatively simple and easy to understand but it has two drawbacks — memory allocations of new collections and constant iterations to check for flags. How can we solve this?</p><h1 id="Introducing-flag-enums"><a href="#Introducing-flag-enums" class="headerlink" title="Introducing flag enums"></a>Introducing flag enums</h1><p>Flag enums were created to optimize both memory and CPU usage by providing a way to store multiple options into a single variable.</p><p>The core concept is the following: every variable is stored in memory as binary data and CPUs are very efficient at making bitwise operations so, if you ensure each enum value is represented by a single bit that doesn’t overlap another value, you can use binary operators (AND, OR, NOT and XOR) to store multiple options into a single primitive variable.</p><p>By default, enums are represented in memory as an integer, but can also be a short or a long value. If each bit represents a different enum value, this means you can have up to 64 possible values that must not overlap each other.</p><p>Lets change the previous example to use a flag enum instead:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Flags</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Weekday</span><br><span class="line">&#123;</span><br><span class="line">    None        = <span class="number">0</span>,</span><br><span class="line">    Sunday      = <span class="number">1</span> &lt;&lt; <span class="number">0</span>, <span class="comment">// 0b_00000001 // 1</span></span><br><span class="line">    Monday      = <span class="number">1</span> &lt;&lt; <span class="number">1</span>, <span class="comment">// 0b_00000010 // 2</span></span><br><span class="line">    Tuesday     = <span class="number">1</span> &lt;&lt; <span class="number">2</span>, <span class="comment">// 0b_00000100 // 4</span></span><br><span class="line">    Wednesday   = <span class="number">1</span> &lt;&lt; <span class="number">3</span>, <span class="comment">// 0b_00001000 // 8</span></span><br><span class="line">    Thursday    = <span class="number">1</span> &lt;&lt; <span class="number">4</span>, <span class="comment">// 0b_00010000 // 16</span></span><br><span class="line">    Friday      = <span class="number">1</span> &lt;&lt; <span class="number">5</span>, <span class="comment">// 0b_00100000 // 32</span></span><br><span class="line">    Saturday    = <span class="number">1</span> &lt;&lt; <span class="number">6</span>, <span class="comment">// 0b_01000000 // 64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Alarm</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Weekday Weekdays &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TimeOnly Time &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>As you can see, some small changes were made:</p><ol><li>Added the <code>Flags</code> attribute to the enum — not a requirement, but I’ll explain later why it should be used;</li><li>Defined the value of each option ensuring no bit was overlapped — in this case I used the <a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#left-shift-operator-">shift left</a> operator to make it easier and more readable;</li><li>Removed the collection and changed the property <code>Weekdays</code> to a simple <code>Weekday</code> enum;</li></ol><p>You may now be asking: you removed the collection and changed it to a single <code>Weekday</code> value, how am I supposed to represent multiple options then?</p><h1 id="Introducing-bitwise-operators"><a href="#Introducing-bitwise-operators" class="headerlink" title="Introducing bitwise operators"></a>Introducing bitwise operators</h1><p>As I stated before, bitwise operators (<a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#logical-and-operator-">AND</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#logical-or-operator-">OR</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#logical-exclusive-or-operator-">XOR</a>, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/bitwise-and-shift-operators#bitwise-complement-operator-">NOT</a>) allow us to execute logical computation between the bits of two integral operands.</p><p>This is relevant because if we use a bitwise OR (|) operator we can store the result as an aggregation of multiple active flags. Imagine you wanted a variable representing the weekend (setting Saturday and Sunday flags):</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> weekend = Weekday.Saturday | Weekday.Sunday;</span><br><span class="line"><span class="comment">//          = 0b_01000000 | 0b_00000001</span></span><br><span class="line"><span class="comment">//          = 0b_01000001</span></span><br></pre></td></tr></table></figure><p>As you can see in the comment showing the binary representation, both flags will be set.</p><p>On the other hand, if you want to check if a given flag is active you can simply use the bitwise AND (&amp;) operator and compare the result to zero (or <code>Weekday.None</code>).</p><p>Lets check if Sunday is part of the weekend by checking a non zero result:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hasSunday = (weekend &amp; Weekday.Sunday) != Weekday.None;</span><br><span class="line"><span class="comment">//            = (0b_01000001 &amp; 0b_00000001) != 0</span></span><br><span class="line"><span class="comment">//            = 0b_00000001 != 0</span></span><br><span class="line"><span class="comment">//            = true</span></span><br></pre></td></tr></table></figure><p>If you want to check if a flag is disabled the operation result must be zero:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> noMonday = (weekend &amp; Weekday.Monday) == Weekday.None;</span><br><span class="line"><span class="comment">//           = (0b_01000001 &amp; 0b_00000010) == 0</span></span><br><span class="line"><span class="comment">//           = 0b_00000000 == 0</span></span><br><span class="line"><span class="comment">//           = true</span></span><br></pre></td></tr></table></figure><p>And finally, if you want to disable a given flag just do a bitwise AND against a negated flag value:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sunday = weekend &amp; ~Weekday.Saturday;</span><br><span class="line"><span class="comment">//         = 0b_01000001 &amp; ~0b_01000000</span></span><br><span class="line"><span class="comment">//         = 0b_01000001 &amp; 0b_10111111</span></span><br><span class="line"><span class="comment">//         = 0b_00000001</span></span><br></pre></td></tr></table></figure><p>Lets update the original example and use the bitwise operators we just learned (AND, OR, NOT):</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> alarm = <span class="keyword">new</span> Alarm</span><br><span class="line">&#123;</span><br><span class="line">    Time = <span class="keyword">new</span> TimeOnly(<span class="number">07</span>, <span class="number">00</span>, <span class="number">00</span>),</span><br><span class="line">    Weekdays = Weekday.Monday |</span><br><span class="line">               Weekday.Tuesday |</span><br><span class="line">               Weekday.Wednesday |</span><br><span class="line">               Weekday.Thursday |</span><br><span class="line">               Weekday.Friday |</span><br><span class="line">               Weekday.Saturday,</span><br><span class="line">    <span class="comment">// Weekdays = (Weekday) 0b_01111110</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// disable a flag</span></span><br><span class="line">alarm.Weekdays &amp;= ~Weekday.Saturday; <span class="comment">// (Weekday) 0b_00111110</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// check if a flag is enabled</span></span><br><span class="line"><span class="keyword">if</span> ((alarm.Weekdays &amp; Weekday.Monday) != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// check if some flags are enabled</span></span><br><span class="line"><span class="keyword">if</span> ((alarm.Weekdays &amp; (Weekday.Saturday | Weekday.Sunday)) != Weekday.None)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// check if a flag is disabled</span></span><br><span class="line"><span class="keyword">if</span> ((alarm.Weekdays &amp; Weekday.Friday) == Weekday.None)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Right now you must be thinking: sure, this code is more resource efficient and performant but it certainly is harder to read… not sure if I gained something… how can I improve this?</p><p>Well, because checking if a flag is active is a very common scenario, all enums have a method called <code>HasFlag</code> that can be used just for that. Lets rewrite the example in a much simpler and readable way:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> alarm = <span class="keyword">new</span> Alarm</span><br><span class="line">&#123;</span><br><span class="line">    Time = <span class="keyword">new</span> TimeOnly(<span class="number">07</span>, <span class="number">00</span>, <span class="number">00</span>),</span><br><span class="line">    Weekdays = Weekday.Monday |</span><br><span class="line">               Weekday.Tuesday |</span><br><span class="line">               Weekday.Wednesday |</span><br><span class="line">               Weekday.Thursday |</span><br><span class="line">               Weekday.Friday |</span><br><span class="line">               Weekday.Saturday,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">alarm.Weekdays &amp;= ~Weekday.Saturday;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (alarm.Weekdays.HasFlag(Weekday.Monday))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (alarm.Weekdays.HasFlag(Weekday.Saturday) || alarm.Weekdays.HasFlag(Weekday.Sunday))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!alarm.Weekdays.HasFlag(Weekday.Friday))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>It would be nice to also have a method to disable a flag but none is provided by the framework, so you’ll have to stick with bitwise operators for that scenario.</p><h1 id="Why-the-Flags-attribute"><a href="#Why-the-Flags-attribute" class="headerlink" title="Why the [Flags] attribute?"></a>Why the [Flags] attribute?</h1><p>Earlier I said marking the enum with a <code>Flags</code> attribute is opcional (everything we talked about will still work) but still recommended because it helps the IDE to give you more detailed warnings or suggestions, but it’s specially important for debugging, parsing or converting to a string representation.</p><p>Imagine the <code>weekend</code> scenario were both Saturday and Sunday flags are set. If the enum doesn’t have the <code>Flags</code> attribute and you go inspect the variable, the IDE will show the value 65 (<code>0b_01000001</code>) because it isn’t defined in the enum. Same behavior for the <code>ToString</code> method, that will return <code>&quot;65&quot;</code>:</p><img src="/2023/11/04/Understanding-Flag-Enums-in-C/01_value_no_flag_attribute.png" class="post-image"><p>If on the contrary the <code>Flags</code> attribute is used, both IDE and <code>ToString</code> method will show a proper representation of what flags are active:</p><img src="/2023/11/04/Understanding-Flag-Enums-in-C/02_value_flag_attribute.png" class="post-image"><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>I hope this article gave you a good idea on how to use flag enums and bitwise operations to store and check for active flags using a single field, making your application more resource efficient without losing code readability.</p></div><footer class="article-footer"><a data-url="https://code-corner.dev/2023/11/04/Understanding-Flag-Enums-in-C/" data-id="clv2o3yd40037jojhbfrighew" data-title="Understanding Flag Enums in C#" class="article-share-link"><span class="fa fa-share">Share</span></a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/csharp/" rel="tag">csharp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dotnetcore/" rel="tag">dotnetcore</a></li></ul></footer></div><nav id="article-nav"><a href="/2023/11/08/NET-8-%E2%80%94-FrozenDictionary-performance/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">.NET 8 — FrozenDictionary performance</div></a><a href="/2022/08/13/Immutability-and-Entity-Framework-Core/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">Immutability and Entity Framework Core</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">Categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/concepts/">concepts</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/devops/">devops</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/performance/">performance</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tutorial/">tutorial</a><span class="category-list-count">9</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tags</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/aspnetcore/" rel="tag">aspnetcore</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/" rel="tag">csharp</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dapper/" rel="tag">dapper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnetcore/" rel="tag">dotnetcore</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/efcore/" rel="tag">efcore</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hangfire/" rel="tag">hangfire</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linq/" rel="tag">linq</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/patterns/" rel="tag">patterns</a><span class="tag-list-count">6</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tag Cloud</h3><div class="widget tagcloud"><a href="/tags/aspnetcore/" style="font-size:15.71px">aspnetcore</a> <a href="/tags/csharp/" style="font-size:18.57px">csharp</a> <a href="/tags/dapper/" style="font-size:10px">dapper</a> <a href="/tags/dotnet/" style="font-size:17.14px">dotnet</a> <a href="/tags/dotnetcore/" style="font-size:20px">dotnetcore</a> <a href="/tags/efcore/" style="font-size:12.86px">efcore</a> <a href="/tags/hangfire/" style="font-size:10px">hangfire</a> <a href="/tags/linq/" style="font-size:11.43px">linq</a> <a href="/tags/patterns/" style="font-size:14.29px">patterns</a></div></div><div class="widget-wrap"><h3 class="widget-title">Archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul><li><a href="/2024/05/25/NET-IAsyncEnumerable-utility-extensions/">.NET - IAsyncEnumerable utility extensions</a></li><li><a href="/2024/04/14/NET-9-%E2%80%94-Exception-handling-performance/">.NET 9 — Exception handling performance</a></li><li><a href="/2024/02/29/NET-Hangfire/">.NET - Hangfire</a></li><li><a href="/2024/02/05/NET-%E2%80%94-LinkedList-vs-ToArray/">.NET — LinkedList vs ToArray</a></li><li><a href="/2024/01/19/NET-%E2%80%94-TaskCompletionSource-and-CancellationTokenSource/">.NET — TaskCompletionSource and CancellationTokenSource</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner"><a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png"></a><br>All website licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a><br>&copy; 2024 João Simões<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a></nav><script src="/js/jquery-3.6.4.min.js"></script><script src="/fancybox/jquery.fancybox.min.js"></script><script src="/js/script.js"></script></div></body></html>